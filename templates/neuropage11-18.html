<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>F&M Neuroscience | Simplified</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#002D72',
            secondary: '#C8102E'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-50 font-sans min-h-screen flex flex-col">
  <!-- Header -->
  <header class="w-full bg-primary text-white p-4 flex justify-between items-center shadow-md">
    <h1 class="text-xl md:text-2xl font-bold">Neuroscience at Franklin & Marshall</h1>
    <div class="flex items-center gap-4">
      <a href="/" class="bg-secondary hover:bg-secondary/90 px-4 py-2 rounded-full text-xs md:text-sm font-medium transition-colors">← Back to Home</a>
      <span class="bg-secondary/90 px-3 py-1 rounded-full text-xs md:text-sm font-medium">Admitted Students Day</span>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 p-6 max-w-7xl mx-auto w-full">
    <!-- Card 1 -->
    <section class="bg-white p-6 rounded-xl shadow-sm flex flex-col" id="card-overview">
      <h2 class="text-xl font-bold text-primary mb-2 flex items-center"><i data-feather="info" class="mr-2"></i> What is Neuroscience at F&M?</h2>
      <p id ="directive" class="text-sm text-gray-500 mb-4">Click a button to see details.</p>

       <p id = "Neurocontent" class="mb-4 text-gray-700">
                Neuroscience at F&M lives in the Biological Foundations of Behavior (BFB) Program. It's an interdisciplinary major spanning biology, psychology, chemistry, physics, and mathematics—connecting neural mechanisms to behavior and cognition.
        </p>

      <div class="flex flex-wrap gap-3">
        <button id="highlights" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#ovr-highlights" onclick="speakOnClick('highlights','Here are the ')">Program Highlights</button>
        
        <button class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#ovr-contact">Department Contact</button>
      </div>

      <div id="ovr-highlights" class="hidden mt-4 space-y-2 text-gray-700">
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="check-circle" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>Interdisciplinary approach connecting molecules to mind.</span></li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>Strong foundations in biology, psychology, chemistry, and mathematics.</span></li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>Hands-on research opportunities in 12+ active labs from first year.</span></li>
        </ul>
      </div>

      

      <div id="ovr-contact" class="hidden mt-4 text-gray-700">
        <div class="space-y-1">
          <p><span class="font-semibold">Head of Department:</span> Professor Ryan T. Lacy</p>
          <p><span class="font-semibold">Email:</span> rlacy@fandm.edu</p>
          <p><span class="font-semibold">Program:</span> Biological Foundations of Behavior (BFB)</p>
        </div>
      </div>

      <div class="mt-auto pt-4 border-t border-gray-100">
        <p class="text-sm text-gray-500 italic">"From molecules to mind." — F&M Neuroscience</p>
      </div>
    </section>

    <!-- Card 2 - Required Classes (Middle Section) -->
    <section class="bg-white p-6 rounded-xl shadow-sm flex flex-col" id="card-required">
      <h2 class="text-xl font-bold text-primary mb-2 flex items-center"><i data-feather="book" class="mr-2"></i> Required Classes</h2>
      <p class="text-sm text-gray-500 mb-4">Click a button to see details.</p>

      <!-- Course count boxes above the buttons -->
      <div id="glance-counts" class="mb-4 grid grid-cols-3 gap-3">
        <div class="bg-primary/10 p-3 rounded-lg text-center">
          <div class="text-3xl font-bold text-primary">15</div>
          <div class="text-xs text-gray-600">Courses</div>
        </div>
        <div class="bg-secondary/10 p-3 rounded-lg text-center">
          <div class="text-3xl font-bold text-secondary">3</div>
          <div class="text-xs text-gray-600">Area Electives</div>
        </div>
        <div class="bg-primary/10 p-3 rounded-lg text-center">
          <div class="text-3xl font-bold text-primary">12+</div>
          <div class="text-xs text-gray-600">Student Labs</div>
        </div>
      </div>

      <div class="flex flex-wrap gap-3">
        <button id = "core" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-core" onclick="speakOnClick('core', 'These are the ')">Core Biology Courses</button>
        <button id = "physmath" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-physmath" onclick="speakOnClick('physmath', 'These are the ')">Physical Sci & Math</button>
        <button id = "neurofund" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-neurofund" onclick="speakOnClick('neurofund', 'These are the ')">Neuro Fundamentals</button>
        <button id = "areastudies" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-areastudies" onclick="speakOnClick('areastudies', 'Here are some ')">Area Studies</button>
        <button id = "research" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-research" onclick="speakOnClick('research', 'The research requirement includes ')">Research Requirement</button>
      </div>

      <div id="req-core" class="hidden mt-4">
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>BIO 101 – Evolution, Ecology & Biodiversity</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>BIO 102 – Cell Biology & Genetics</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>BIO 200 – Integrative Biology</span></li>
        </ul>
      </div>

      <div id="req-physmath" class="hidden mt-4">
        <ul class="bg-gray-50 p-4 rounded-lg border border-gray-200">
          <li class="flex items-center mb-2"><i data-feather="check" class="text-secondary mr-2"></i><span>CHM 111 – General Chemistry I</span></li>
          <li class="flex items-center mb-2"><i data-feather="check" class="text-secondary mr-2"></i><span>CHM 112 – General Chemistry II</span></li>
          <li class="flex items-center mb-2"><i data-feather="check" class="text-secondary mr-2"></i><span>CHM 211 – Organic Chemistry I</span></li>
          <li class="flex items-center mb-2"><i data-feather="check" class="text-secondary mr-2"></i><span>PHY 101 <span class="text-gray-500">or</span> PHY 111 – Physics</span></li>
          <li class="flex items-center"><i data-feather="check" class="text-secondary mr-2"></i><span>MAT 109 – Calculus I</span></li>
        </ul>
      </div>

      <div id="req-neurofund" class="hidden mt-4">
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>BIO 240 – Neuroscience</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>PSY 351 – Biopsychology w/ Lab <span class="text-gray-500">or</span> PSY 27x – Biopsychology</span></li>
        </ul>
      </div>

      <div id="req-areastudies" class="hidden mt-4">
        <div class="space-y-3">
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h3 class="font-semibold text-gray-800 mb-2">Neuro-focused (samples)</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>BIO 330 – Advanced Neurobiology</li>
              <li>BIO 343 – Functional Human Neuroanatomy</li>
              <li>PSY 357 – Hormones & Behavior (Lab)</li>
              <li>BIO 341 – Neurochemistry</li>
            </ul>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h3 class="font-semibold text-gray-800 mb-2">Behavior & Cognition</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>PSY 305 – Cognitive Psychology</li>
              <li>PSY 320 – Animal Behavior (Lab)</li>
              <li>PSY 355 – Face Perception (Lab)</li>
              <li>PSY 371 – Evolutionary Psychology</li>
            </ul>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <h3 class="font-semibold text-gray-800 mb-2">Related / Interdisciplinary</h3>
            <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
              <li>BIO 306 – Developmental Biology</li>
              <li>BIO 332 – Molecular Biology</li>
              <li>PSY 200 – Neuroethics</li>
              <li>Approved courses in Philosophy, Anthropology, Environmental Studies</li>
            </ul>
          </div>
        </div>
      </div>

      <div id="req-research" class="hidden mt-4">
        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
          <p class="text-sm text-gray-700 mb-2">Complete one advanced research experience:</p>
          <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
            <li>BFB 390 – Directed Research</li>
            <li>BFB 490 – Independent Research</li>
            <li>Psychology Collaborative Research (PSY 460 or 48x)</li>
            <li>Approved 300‑level Biology laboratory course</li>
          </ul>
          <p class="text-xs text-gray-500 mt-2">Area studies courses may not double‑count toward the advanced research requirement and vice versa.</p>
        </div>
      </div>
      
    </section>

    <!-- Card 3 - FAQ Section (Right Section) -->
    <section class="bg-white p-6 rounded-xl shadow-sm flex flex-col" id="card-faq">
      <h2 class="text-xl font-bold text-primary mb-2 flex items-center"><i data-feather="help-circle" class="mr-2"></i> Frequently Asked Questions</h2>
      <p class="text-sm text-gray-500 mb-4">Click a question to see the answer.</p>

      <div class="space-y-3">
        <!-- FAQ Item 1 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-1"onclick="speakOnClick('faq-answer-1')">
            <span class="font-medium text-gray-800">How early can I join a lab?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-1" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>Many labs welcome first‑years. Ask faculty about reading groups and pilot projects.</p>
          </div>
        </div>

        <!-- FAQ Item 2 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-2"onclick="speakOnClick('faq-answer-2')">
            <span class="font-medium text-gray-800">Is there a clinical track?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-2" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>While not pre‑med specific, the curriculum aligns well with medical and allied‑health prerequisites.</p>
          </div>
        </div>

        <!-- FAQ Item 3 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-3"onclick="speakOnClick('faq-answer-3')">
            <span class="font-medium text-gray-800">Do I need programming experience?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-3" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>No—quantitative skills are developed in‑program; electives like bioinformatics are optional.</p>
          </div>
        </div>

        <!-- FAQ Item 4 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-4"onclick="speakOnClick('faq-answer-4')">
            <span class="font-medium text-gray-800">What career paths do neuroscience graduates pursue?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-4" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>Graduates pursue research & healthcare roles, graduate/professional school (MS/PhD, MD/DO/PA/OT), and interdisciplinary careers in neurodata science, UX research, biotech policy, and science communication.</p>
          </div>
        </div>

        <!-- FAQ Item 5 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-5"onclick="speakOnClick('faq-answer-5')">
            <span class="font-medium text-gray-800">What research areas are available?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-5" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>Research areas include neurobiology & development, behavioral & cognitive neuroscience, neurochemistry & hormones, and brain health. Labs study neural systems, behavior, hormones, cognition, and brain health.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Convert each button to a disclosure toggle for its target content
    document.querySelectorAll('.toggle-btn').forEach(btn => {
      const targetSel = btn.getAttribute('data-target');
      const target = document.querySelector(targetSel);
      if (!target) return;
      btn.setAttribute('aria-expanded', 'false');
      btn.addEventListener('click', () => {
        const isHidden = target.classList.contains('hidden');
        const container = btn.closest('section');
        const sectionId = container.id;
        
        // For the required classes section, allow multiple sections to be open at once
        // and never hide the course count boxes
        if (sectionId === 'card-required') {
          // Only toggle the current target, don't hide other req- sections
          // Never touch the glance-counts div - it should always remain visible
          target.classList.toggle('hidden');
          btn.setAttribute('aria-expanded', String(!isHidden));
        } else {
          // For other sections, hide siblings as before
          container.querySelectorAll('[id^="ovr-"], [id^="glance-"], [id^="req-"]').forEach(el => {
            // Exclude the course count boxes and the current target
            if (el !== target && el.id !== 'glance-counts') {
              el.classList.add('hidden');
            }
          });
          // Toggle selected
          target.classList.toggle('hidden');
          btn.setAttribute('aria-expanded', String(!isHidden));
        }
      });
    });
    
    // Ensure the course count boxes are always visible (extra protection)
    const glanceCounts = document.getElementById('glance-counts');
    if (glanceCounts) {
      glanceCounts.classList.remove('hidden');
      // Prevent it from being hidden by any means
      const observer = new MutationObserver(() => {
        if (glanceCounts.classList.contains('hidden')) {
          glanceCounts.classList.remove('hidden');
        }
      });
      observer.observe(glanceCounts, { attributes: true, attributeFilter: ['class'] });
    }

    // FAQ expand/collapse functionality
    document.querySelectorAll('.faq-question').forEach(btn => {
      const targetSel = btn.getAttribute('data-target');
      const target = document.querySelector(targetSel);
      const icon = btn.querySelector('.faq-icon');
      if (!target) return;
      
      btn.addEventListener('click', () => {
        const isHidden = target.classList.contains('hidden');
        
        // Close all other FAQ items in the same section
        const container = btn.closest('section');
        container.querySelectorAll('.faq-answer').forEach(answer => {
          if (answer !== target) {
            answer.classList.add('hidden');
            const otherBtn = container.querySelector(`[data-target="#${answer.id}"]`);
            if (otherBtn) {
              const otherIcon = otherBtn.querySelector('.faq-icon');
              if (otherIcon) otherIcon.style.transform = 'rotate(0deg)';
            }
          }
        });
        
        // Toggle current FAQ item
        target.classList.toggle('hidden');
        
        // Rotate icon
        if (icon) {
          if (isHidden) {
            icon.style.transform = 'rotate(180deg)';
          } else {
            icon.style.transform = 'rotate(0deg)';
          }
        }
      });
    });

    function speakOnClick(sectionId, extra="") {

      var text = document.getElementById(sectionId).innerHTML
      var full_text = extra + text 

      console.log('Collected text:', full_text);

      fetch("http://127.0.0.1:5001/speakOnClick", {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({ 'text': full_text })
      })
      .then(r => r.text())
      .then(console.log)
      .catch(console.error)
    }

    function speakWithMisty() {
        var text = document.getElementById("Neurocontent").innerHTML
        var text2 = document.getElementById("directive").innerHTML

        full_text = text + " " + text2
        console.log(full_text)
        fetch("http://127.0.0.1:5001/speak", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ 'text': full_text })
        })
        .then(r => r.text())
        .then(console.log)
        .catch(console.error)
    }

    speakWithMisty()

    // Icons
    feather.replace();
  </script>
</body>
</html>

