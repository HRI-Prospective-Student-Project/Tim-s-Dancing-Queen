<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>F&M Computer Science | Simplified</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#002D72',
            secondary: '#C8102E'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-50 font-sans min-h-screen flex flex-col">
  <!-- Header -->
  <header class="w-full bg-primary text-white p-4 flex justify-between items-center shadow-md">
    <h1 class="text-xl md:text-2xl font-bold">Computer Science at Franklin & Marshall</h1>
    <div class="flex items-center gap-4">
      <a href="/" class="bg-secondary hover:bg-secondary/90 px-4 py-2 rounded-full text-xs md:text-sm font-medium transition-colors">← Back to Home</a>
      <span class="bg-secondary/90 px-3 py-1 rounded-full text-xs md:text-sm font-medium">Admitted Students Day</span>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 p-6 max-w-7xl mx-auto w-full">
    <!-- Card 1 -->
    <section class="bg-white p-6 rounded-xl shadow-sm flex flex-col" id="card-overview">
      <h2 class="text-xl font-bold text-primary mb-2 flex items-center"><i data-feather="info" class="mr-2"></i> What is Computer Science at F&M?</h2>
      <p id ="directive" class="text-sm text-gray-500 mb-4">Click a button to see details.</p>

       <p id = "CScontent" class="mb-4 text-gray-700">
                At F and M, computer science is one of the most versatile fields of study, connecting technology with real-world impact. 
                The program emphasizes both the mathematical foundations of computer science and strong programming skills, and encourages you to put theory into practice.
        </p>

      <div class="flex flex-wrap gap-3">
        <button id="highlights" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#ovr-highlights" onclick="speakOnClick('highlights','Here are the ')">Program Highlights</button>
        
        <button class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#ovr-contact">Department Contact</button>
      </div>

      <div id="ovr-highlights" class="hidden mt-4 space-y-2 text-gray-700">
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="check-circle" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>Strong foundations in theory and programming; apply theory to real problems.</span></li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>Understand how computers represent and process information.</span></li>
          <li class="flex items-start"><i data-feather="check-circle" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>Explore AI, machine learning, and bioinformatics through coursework and research.</span></li>
        </ul>
      </div>

      

      <div id="ovr-contact" class="hidden mt-4 text-gray-700">
        <div class="space-y-1">
          <p><span class="font-semibold">Head of Department:</span> Professor Novak</p>
          <p><span class="font-semibold">Email:</span> novak@fandm.edu</p>
          <p><span class="font-semibold">Office:</span> 101</p>
          <p><span class="font-semibold">Phone:</span> 717-358-4261</p>
        </div>
      </div>

      <div class="mt-auto pt-4 border-t border-gray-100">
        <p class="text-sm text-gray-500 italic">"Computing is not about computers any more. It's about living." — Nicholas Negroponte</p>
      </div>
    </section>

    <!-- Card 2 - Required Classes (Middle Section) -->
    <section class="bg-white p-6 rounded-xl shadow-sm flex flex-col" id="card-required">
      <h2 class="text-xl font-bold text-primary mb-2 flex items-center"><i data-feather="book" class="mr-2"></i> Required Classes</h2>
      <p class="text-sm text-gray-500 mb-4">Click a button to see details.</p>

      <!-- Course count boxes above the buttons -->
      <div id="glance-counts" class="mb-4 grid grid-cols-3 gap-3">
        <div class="bg-primary/10 p-3 rounded-lg text-center">
          <div class="text-3xl font-bold text-primary">11</div>
          <div class="text-xs text-gray-600">CS Courses</div>
        </div>
        <div class="bg-secondary/10 p-3 rounded-lg text-center">
          <div class="text-3xl font-bold text-secondary">7</div>
          <div class="text-xs text-gray-600">Core Classes</div>
        </div>
        <div class="bg-primary/10 p-3 rounded-lg text-center">
          <div class="text-3xl font-bold text-primary">4</div>
          <div class="text-xs text-gray-600">Electives</div>
        </div>
      </div>

      <div class="flex flex-wrap gap-3">
        <button id = "core" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-core" onclick="speakOnClick('core', 'These are the ')">Core CS Courses</button>
        <button id = "math" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#req-math" onclick="speakOnClick('math', 'These are the ')">Math Requirement Courses</button>
        <button id = "electives" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#glance-cs-electives" onclick="speakOnClick('electives', 'Check out some of the ')">CS Electives</button>
        <button id = "related" class="toggle-btn px-4 py-2 rounded-full border border-gray-200 hover:border-primary hover:text-primary transition" data-target="#glance-related" onclick="speakOnClick('related', 'Here are some ')">Related Non‑CS Courses</button>
      </div>

      <div id="req-core" class="hidden mt-4">
        <ul class="space-y-2">
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 111 – Computer Science I</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 112 – Computer Science II</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 222 – Computer Science III</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 237 – Computational Discrete Math</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 242 – Computer Organization</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 261 – Algorithms</span></li>
          <li class="flex items-start"><i data-feather="book" class="text-secondary mr-2 mt-0.5 flex-shrink-0"></i><span>CPS 337 – Advanced CS Core</span></li>
        </ul>
      </div>

      <div id="req-math" class="hidden mt-4">
        <ul class="bg-gray-50 p-4 rounded-lg border border-gray-200">
          <li class="flex items-center mb-2"><i data-feather="check" class="text-secondary mr-2"></i><span>MAT 109 – Calculus I</span></li>
          <li class="flex items-center mb-2"><i data-feather="check" class="text-secondary mr-2"></i><span>MAT 110 – Calculus II</span></li>
          <li class="flex items-center"><i data-feather="check" class="text-secondary mr-2"></i><span>MAT 216 <span class="text-gray-500">or</span> MAT 229</span></li>
        </ul>
      </div>

      <div id="glance-cs-electives" class="hidden mt-4">
        <h3 class="font-semibold text-gray-800 mb-2">CS Electives (300+ level)</h3>
        <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
          <li><span>CPS 360 – Introduction to Machine Learning</span></li>
          <li><span>CPS 363 – Introduction to Bioinformatics</span></li>
          <li><span>CPS 367 – Artificial Intelligence</span></li>
          <li><span>CPS 372 – Information Theor</span></li>
        </ul>
      </div>

      <div id="glance-related" class="hidden mt-4">
        <h3 class="font-semibold text-gray-800 mb-2">Related non‑CS elective options</h3>
        <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
          <li><span>PHI 244 – Symbolic Logic</span></li>
          <li><span>PSY/SPM 305 – Cognitive Psychology</span></li>
          <li><span>PHI/PSY 203 – Embodied Cognition</span></li>
        </ul>
      </div>
      
    </section>

    <!-- Card 3 - FAQ Section (Right Section) -->
    <section class="bg-white p-6 rounded-xl shadow-sm flex flex-col" id="card-faq">
      <h2 class="text-xl font-bold text-primary mb-2 flex items-center"><i data-feather="help-circle" class="mr-2"></i> Frequently Asked Questions</h2>
      <p class="text-sm text-gray-500 mb-4">Click a question to see the answer.</p>

      <div class="space-y-3">
        <!-- FAQ Item 1 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-1" onclick="speakOnClick('faq-answer-1')">
            <span class="font-medium text-gray-800">What programming languages will I learn?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-1" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>You'll primarily work with Python and Java in the core courses, and may encounter other languages like C++ in advanced courses. The focus is on understanding programming concepts that apply across languages.</p>
          </div>
        </div>

        <!-- FAQ Item 2 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-2" onclick="speakOnClick('faq-answer-2')">
            <span class="font-medium text-gray-800">Are there research opportunities for undergraduates?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-2" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>Yes! F&M CS faculty actively involve undergraduates in research projects, particularly in areas like machine learning, bioinformatics, and artificial intelligence. Many students present their work at conferences.</p>
          </div>
        </div>

        <!-- FAQ Item 3 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-3" onclick="speakOnClick('faq-answer-3')">
            <span class="font-medium text-gray-800">What career paths do CS graduates pursue?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-3" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>Graduates work as software engineers, data scientists, cybersecurity analysts, and in tech consulting. Many also pursue graduate studies in computer science, data science, or related fields.</p>
          </div>
        </div>

        <!-- FAQ Item 4 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-4" onclick="speakOnClick('faq-answer-4')">
            <span class="font-medium text-gray-800">Can I double major with CS?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-4" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>Absolutely! CS pairs well with many majors including mathematics, physics, economics, psychology, and business. The department works with students to plan schedules that accommodate double majors.</p>
          </div>
        </div>

        <!-- FAQ Item 5 -->
        <div class="faq-item border border-gray-200 rounded-lg overflow-hidden">
          <button class="faq-question w-full px-4 py-3 text-left flex justify-between items-center hover:bg-gray-50 transition" data-target="#faq-answer-5" onclick="speakOnClick('faq-answer-5')">
            <span class="font-medium text-gray-800">What if I have no programming experience?</span>
            <i data-feather="chevron-down" class="faq-icon text-gray-400 transition-transform"></i>
          </button>
          <div id="faq-answer-5" class="faq-answer hidden px-4 py-3 bg-gray-50 text-sm text-gray-700 border-t border-gray-200">
            <p>No problem! CPS 111 (Computer Science I) is designed for students with no prior programming experience. The course starts with the fundamentals and builds from there.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Convert each button to a disclosure toggle for its target content
    document.querySelectorAll('.toggle-btn').forEach(btn => {
      const targetSel = btn.getAttribute('data-target');
      const target = document.querySelector(targetSel);
      if (!target) return;
      btn.setAttribute('aria-expanded', 'false');
      btn.addEventListener('click', () => {
        const isHidden = target.classList.contains('hidden');
        const container = btn.closest('section');
        const sectionId = container.id;
        
        // For the required classes section, allow multiple sections to be open at once
        // and never hide the course count boxes
        if (sectionId === 'card-required') {
          // Only toggle the current target, don't hide other req- sections
          // Never touch the glance-counts div - it should always remain visible
          target.classList.toggle('hidden');
          btn.setAttribute('aria-expanded', String(!isHidden));
        } else {
          // For other sections, hide siblings as before
          container.querySelectorAll('[id^="ovr-"], [id^="glance-"], [id^="req-"]').forEach(el => {
            // Exclude the course count boxes and the current target
            if (el !== target && el.id !== 'glance-counts') {
              el.classList.add('hidden');
            }
          });
          // Toggle selected
          target.classList.toggle('hidden');
          btn.setAttribute('aria-expanded', String(!isHidden));
        }
      });
    });
    
    // Ensure the course count boxes are always visible (extra protection)
    const glanceCounts = document.getElementById('glance-counts');
    if (glanceCounts) {
      glanceCounts.classList.remove('hidden');
      // Prevent it from being hidden by any means
      const observer = new MutationObserver(() => {
        if (glanceCounts.classList.contains('hidden')) {
          glanceCounts.classList.remove('hidden');
        }
      });
      observer.observe(glanceCounts, { attributes: true, attributeFilter: ['class'] });
    }

    // FAQ expand/collapse functionality
    document.querySelectorAll('.faq-question').forEach(btn => {
      const targetSel = btn.getAttribute('data-target');
      const target = document.querySelector(targetSel);
      const icon = btn.querySelector('.faq-icon');
      if (!target) return;
      
      btn.addEventListener('click', () => {
        const isHidden = target.classList.contains('hidden');
        
        // Close all other FAQ items in the same section
        const container = btn.closest('section');
        container.querySelectorAll('.faq-answer').forEach(answer => {
          if (answer !== target) {
            answer.classList.add('hidden');
            const otherBtn = container.querySelector(`[data-target="#${answer.id}"]`);
            if (otherBtn) {
              const otherIcon = otherBtn.querySelector('.faq-icon');
              if (otherIcon) otherIcon.style.transform = 'rotate(0deg)';
            }
          }
        });
        
        // Toggle current FAQ item
        target.classList.toggle('hidden');
        
        // Rotate icon
        if (icon) {
          if (isHidden) {
            icon.style.transform = 'rotate(180deg)';
          } else {
            icon.style.transform = 'rotate(0deg)';
          }
        }
      });
    });

    function speakOnClick(sectionId, extra="") {

      var text = document.getElementById(sectionId).innerHTML
      var full_text = extra + text 

      console.log('Collected text:', full_text);

      fetch("http://127.0.0.1:5001/speakOnClick", {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({ 'text': full_text })
      })
      .then(r => r.text())
      .then(console.log)
      .catch(console.error)
    }

    function speakWithMisty() {
        var text = document.getElementById("CScontent").innerHTML
        var text2 = document.getElementById("directive").innerHTML

        full_text = text + " " + text2
        console.log(full_text)
        fetch("http://127.0.0.1:5001/speak", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ 'text': full_text })
        })
        .then(r => r.text())
        .then(console.log)
        .catch(console.error)
    }

    speakWithMisty()

    // Icons
    feather.replace();
  </script>
</body>
</html>
